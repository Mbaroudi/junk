# $Header: /var/cvsroot/gentoo-x86/net-www/apache/files/conf/Vhosts.conf,v 1.4 2004/07/18 04:20:47 dragonheart Exp $

################# Vhosts.conf
#This is where we store the VirtualHosts configuration. 
#
#Since Apache 1.3.19, we modified the setup to include some nice tricks:
#
#- We added the User and Group directives so VirtualHosts now work with
#  suexec directive. If set, Apache will run all cgi scripts under that
#  user and group (provided the uid and gid are > 1000 for security). The
#  directories and cgi files *must* belong to that user/group for the
#  feature to work
#- We added the Setenv VLOG directive. This works in conjunction with
#  the CustomLog in common.conf. When Setenv VLOG is set, apache will
#  create a /var/log/httpd/VLOG-YYYY-MM-<ServerName>.log instead of logging
#  to access_log. Use this instead of defining a special logfile for
#  each vhost, otherwise you eat up file descriptors.
#- You can also specify a path for the VLOG for each Vhost, for example,
#  to place the logs in each user's directory. However, if you want to
#  use the file for accounting, place it in a directory owned by root,
#  otherwise the user will be able to erase it.
#- I suggest only including the ErrorLog *only* if the vhost will use
#  cgi scripts. Again, it saves file descriptors!

#This is needed for Frontpage support
#Port 80
ServerRoot /etc/apache
ResourceConfig /dev/null
AccessConfig /dev/null

NameVirtualHost *:80

<VirtualHost _default_:80>
  <IfModule mod_ssl.c>
    SSLEngine off
  </IfModule>
  ServerName webber.rubin.ru
  ServerAdmin webmaster@rubin.ru
  DocumentRoot /var/www/localhost/htdocs
  ErrorLog  logs/error_log
  CustomLog logs/access_log combined
  User apache
  Group apache

  <Directory /var/www/localhost/htdocs>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    Allow from all
  </Directory>

  ScriptAlias /cgi-bin/ /var/www/localhost/cgi-bin/
  <Directory /var/www/localhost/cgi-bin>
    AllowOverride All
    Options ExecCGI
    Order allow,deny
    Allow from all
  </Directory>

  <Location /awstats/>
    Redirect        /       https://webber.rubin.ru/
  </Location>
	
  <Location /phpmyadmin>
    Redirect        /       https://webber.rubin.ru/
  </Location>

  <Location /apcupsd>
    Redirect        /       https://webber.rubin.ru/
  </Location>

  <Location /phpldapadmin>
    Redirect        /       https://webber.rubin.ru/
  </Location>

  <Location /nagios>
    Redirect        /       https://webber.rubin.ru/
  </Location>

  <Location /wacko>
    Redirect        /       https://webber.rubin.ru/
  </Location>

</VirtualHost>

<VirtualHost *:80>
  ServerName rubin.ru
  Redirect        /       http://www.rubin.ru/
  DocumentRoot /var/www/www.rubin.ru/html
  CustomLog logs/rubin.ru-access_log combined
  ErrorLog  logs/rubin.ru-error_log
</VirtualHost>

<VirtualHost *:80>
  ServerName www.rubin.ru
  DocumentRoot /var/www/www.rubin.ru/html
  <IfModule mod_php4.c>
  php_admin_value open_basedir        /var/www/www.rubin.ru
  php_admin_value session.save_path   /var/www/www.rubin.ru/tmp
  php_admin_value upload_tmp_dir      /var/www/www.rubin.ru/tmp
  </IfModule>
  <Directory "/var/www/www.rubin.ru/html/pdf">
    Options FollowSymLinks MultiViews Includes Indexes
    Order Deny,Allow
    Deny from All
    Allow from All
  </Directory>
  <Directory "/var/www/www.rubin.ru/html">
    AllowOverride All
    Order deny,allow
    #Deny from all
    #Allow from 194.158.211.161 212.248.100.0/255.255.255.0 192.168.0.0/255.255.0.0
    Allow from all
  </Directory>
  CustomLog logs/rubin.ru-access_log combined
  ErrorLog  logs/rubin.ru-error_log
  #CharSetSourceEnc cp1251
</VirtualHost>

<VirtualHost *:80>
  ServerName ruby.ru
  ServerAlias www.ruby.ru
  Redirect        /       http://www.rubi.ru/
  DocumentRoot /var/www/rubi.ru/
  CustomLog logs/rubi.ru-access_log combined
  ErrorLog  logs/rubi.ru-error_log
</VirtualHost>

<VirtualHost *:80>
  ServerName  largos.ru
  ServerAlias www.largos.ru
  UseCanonicalName Off
  DocumentRoot /var/www/largos/html
  <IfModule mod_php4.c>
  php_admin_value open_basedir        /var/www/largos
  php_admin_value session.save_path   /var/www/largos/tmp
  php_admin_value upload_tmp_dir      /var/www/largos/tmp
  </IfModule>
  <Directory "/var/www/largos/html/data">
    AuthType Basic
    AuthName "Largos Realm"
    AuthUserFile /var/www/largos/.htpasswd
    Require valid-user
  </Directory>
  RewriteEngine on
  RewriteRule ^/(news|company|catalogue|articles|commodity|sitemap)/(.*) %{DOCUMENT_ROOT}/index.php/$2 [L]
  <Directory "/var/www/largos/html">
    AllowOverride All
    Order deny,allow
    Deny from all
    Allow from all
  </Directory>
  CustomLog logs/largos.ru-access_log combined
  ErrorLog  logs/largos.ru-error_log
  #CharsetSourceEnc cp1251
</VirtualHost>

<VirtualHost *:80>
  ServerName  westside.ru
  ServerAlias www.westside.ru
  ServerAlias west-side.ru
  ServerAlias www.west-side.ru
  DocumentRoot /var/www/westside/html
  <IfModule mod_php4.c>
  php_admin_value open_basedir        /var/www/westside/
  php_admin_value session.save_path   /var/www/westside/tmp
  php_admin_value upload_tmp_dir      /var/www/westside/tmp
  </IfModule>
  <Directory "/var/www/westside/html">
    AllowOverride All
    Order deny,allow
    #Deny from all
    Allow from all
  </Directory>
  CustomLog logs/westside.ru-access_log combined
  ErrorLog  logs/westside.ru-error_log
 #CharsetSourceEnc cp1251
</VirtualHost>

<VirtualHost *:80>
  ServerName vaidena.by
  ServerAlias www.vaidena.by
  DocumentRoot /var/www/vaidena.by/html
  <IfModule mod_php4.c>
  php_admin_value open_basedir        /var/www/vaidena.by/
  php_admin_value session.save_path   /var/www/vaidena.by/tmp
  php_admin_value upload_tmp_dir      /var/www/vaidena.by/tmp
  </IfModule>
  <Directory "/var/www/vaidena.by/html">
    AllowOverride All
    Order deny,allow
    #Deny from all
    Allow from all
  #  AuthType Basic
  #  AuthName "Vaidena Realm"
  #  AuthUserFile /usr/local/apache/conf/passwd
  #  Require valid-user
  </Directory>
  <Directory "/var/www/vaidena.by/html/data">
    AuthType Basic
    AuthName "Vaidena Realm"
    AuthUserFile /dev/null
    Require valid-user
  </Directory>
  RewriteEngine On
  RewriteRule ^/(news|company|catalogue|articles|commodity|sitemap)/(.*) %{DOCUMENT_ROOT}/index.php/$2 [L]
  CustomLog logs/vaidena.by-access_log combined
  ErrorLog  logs/vaidena.by-error_log
</VirtualHost>

<VirtualHost *:80>
    ServerName my-monica.com
    ServerAlias *.my-monica.com
    ServerAdmin postmaster@my-monica.com
    DocumentRoot /var/www/my-monica/htdocs
    ErrorLog /var/www/my-monica/logs/monica-error_log
    CustomLog /var/www/my-monica/logs/monica-access_log combined
    <IfModule mod_php4.c>
    php_admin_value open_basedir /var/www/my-monica
    php_admin_value session.save_path /var/www/my-monica/tmp
    php_admin_value upload_tmp_dir /var/www/my-monica/tmp
    </IfModule>
    #User monica
    #Group monica
    <Directory "/var/www/my-monica/htdocs">
       AllowOverride all
       Options Includes FollowSymLinks
       Order deny,allow
       Deny from all
       Allow from all
    </Directory>
    ScriptAlias /cgi-bin/ "/var/www/my-monica/cgi-bin/"
    <Directory "/var/www/my-monica/cgi-bin">
       AllowOverride None
       Options None
       Order deny,allow
       Deny from all
       Allow from all
    </Directory>
</VirtualHost>

<VirtualHost *:80>
  ServerName      www.gorbushkin.ru
  ServerAlias     www.gorbushkin.su www.gorbushkin.com www.gorbushkin.net \
                  www.gorbushkin.org www.gorbushkin.info www.gorbushkin.biz \
                  shop.rubi.ru www.shop.rubi.ru
  Redirect        /       http://www.rubi.ru
  DocumentRoot    "/var/www/gorbushka/html/www"
  CustomLog logs/rubi.ru-access_log combined
  ErrorLog  logs/rubi.ru-error_log
</VirtualHost>

<VirtualHost *:80>
  ServerName forum.rubi.ru
  ServerAdmin webmaster@rubin.ru
  DocumentRoot "/var/www/forum.rubi.ru/forum"
  ErrorLog  logs/forum.rubi.ru-error_log 
  CustomLog logs/forum.rubi.ru-access_log combined
  #CharsetDefault windows-1251
  #CharsetSourceEnc windows-1251
  <Directory "/var/www/forum.rubi.ru/forum">
    Options Indexes FollowSymLinks MultiViews ExecCGI
    AllowOverride None
    Order allow,deny
    Allow from all
  </Directory>
  Alias /files "/var/www/forum.rubi.ru/files"
  <Directory "/var/www/forum.rubi.ru/files">
    Options Indexes MultiViews
    AllowOverride None
    Order allow,deny
    Allow from all
  </Directory>
</VirtualHost>

<VirtualHost *:80>
  UseCanonicalName Off
  ServerName rubi.ru
  ServerAlias *.rubi.ru
  VirtualDocumentRoot /var/www/gorbushka/html/%1
  <IfModule mod_php4.c>
  php_admin_value open_basedir      /var/www/gorbushka
  php_admin_value session.save_path /var/www/gorbushka/tmp
  php_admin_value upload_tmp_dir    /var/www/gorbushka/tmp
  </IfModule>
  <Directory "/var/www/gorbushka/html">
    AllowOverride ALL
    Options +Includes
    AddHandler server-parsed .html
    AddType application/octet-string .ico
    Order allow,deny
    Allow from all
  </Directory>

  Alias /cgi-bin/make/templates/ /var/www/gorbushka/cgi-bin/make/templates/
  <Directory "/var/www/gorbushka/cgi-bin/make/templates">
    AllowOverride None
    #Options Indexes FollowSymLinks MultiViews Includes ExecCGI
    Options None
    AddHandler server-parsed .html .htm
    Order allow,deny
    Allow from all
  </Directory>

  ScriptAlias /cgi-bin/ /var/www/gorbushka/cgi-bin/
  VirtualScriptAlias /var/www/gorbushka/cgi-bin/
  ScriptAliasMatch ^/release(.*) /var/www/gorbushka/cgi-bin/release.cgi
  <Directory "/var/www/gorbushka/cgi-bin">
    AllowOverride All
    Options ExecCGI
    Order allow,deny
    Allow from all
  </Directory>

  #CharsetSourceEnc koi8-r
  CustomLog logs/rubi.ru-access_log combined
  ErrorLog  logs/rubi.ru-error_log
</VirtualHost>

