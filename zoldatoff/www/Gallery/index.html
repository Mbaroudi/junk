<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 		<link href="main.css" rel="stylesheet" type="text/css" />
        <title>Gallery</title>
    </head>
	
    <body id="allBody">
		<!--div id="outer-loading" class="loading-invisible">
			<div id="inner-loading">
				<img id="loading-img"/>
				<br />
				<center>Loading...</center>
			</div>	
		</div>
		
		<script type="text/javascript">
			<!--
			outerDiv = document.getElementById("outer-loading");
			outerDiv.style.height = window.innerHeight + 'px';
			outerDiv.style.width = window.innerWidth + 'px';
			outerDiv.onclick = function() {this.className = "loading-invisible";}
			
			innerDiv = document.getElementById("inner-loading");
			gifImage = document.getElementById("loading-img");

			gifImage.src = "img/loader3.gif";
			gifImage.onload = function()
			{
				var innerX = gifImage.width;
				var innerY = gifImage.height;
				
				innerDiv.style.height = innerY + 'px';
				innerDiv.style.width = innerX + 'px';
				innerDiv.style.left = Math.round((window.innerWidth - innerX)/2)+'px';
				innerDiv.style.top = Math.round((window.innerHeight - innerY)/2)+'px';
				innerDiv.style.position = 'absolute';
			}
			//->	
		</script-->
			
		
		<!--script type="text/javascript" src="../interface.js"></script-->
		
		<div class="leftDiv">
			<img class="gifImg" src="img/wheel.gif" alt="loading..."/>
		</div>
		
		<div class="vertical" onmouseover="this.style.backgroundColor='gray';document.body.style.cursor = 'col-resize'" 
				onmouseout="this.style.backgroundColor='blue';document.body.style.cursor = 'default'"
				>
		</div>
		
		<div class="centerDiv" id="mainDiv">
		</div>
		
		<div class="rightDiv">
			<img class="gifImg" src="img/loader2.gif" alt="loading..."/>
		</div>
		
		<div id="bottom-panel" class="bottomDiv">
			<div id="bottomDiv01" class="thumbDiv"><!--img id="bottomImg01" class="thumbImg" src="squirell/01.jpg"/--></div>
			<div id="bottomDiv02" class="thumbDiv"><!--img id="bottomImg02" class="thumbImg" src="squirell/02.jpg"/--></div>
			<div id="bottomDiv03" class="thumbDiv"><!--img id="bottomImg03" class="thumbImg" src="squirell/03.jpg"/--></div>
			<div id="bottomDiv04" class="thumbDiv"><!--img id="bottomImg04" class="thumbImg" src="squirell/04.jpg"/--></div>
			<div id="bottomDiv05" class="thumbDiv"><!--img id="bottomImg05" class="thumbImg" src="squirell/05.jpg"/--></div>
		</div>
		
		<script type="text/javascript">
			<!--
			function onImgLoad () {
				with (this) {
					if (width > parentNode.offsetWidth && height > parentNode.offsetHeight)
					//картинка ваще не поместилась
					{
						if (width / parentNode.offsetWidth > height / parentNode.offsetHeight) {
							style.width = "100%";
							style.height = "auto";
							style.marginTop = Math.round((parentNode.offsetHeight - height) / 2) + 'px';
						}
						else {
							style.height = "100%";
							style.width = "auto";
							style.marginTop = "0px";
						}
					}
					else if (height > parentNode.offsetHeight)
					//картинка не поместилась по высоте
					//
					{
						style.width = "auto";
						style.height = "100%";
						style.marginTop = "0px";
					}
					else if (width > parentNode.offsetWidth)
					//картинка не поместилась по ширине 
					{
						style.width = "100%";
						style.height = "auto";
						style.marginTop = Math.round( (parentNode.offsetHeight - height) / 2 ) + 'px';
					}
					else 
					{
						style.width = width + "px";
						style.height = height + "px";
						style.marginTop = Math.round( (parentNode.offsetHeight - height) / 2 ) + 'px';
					}
				}
			}
			
			function wwwImage(imgSrc, parentDiv) {
				alert(imgSrc + ' ' + parentDiv);
				this.theImg = new Image();
				parentDiv.appendChild(this.theImg);
				this.theImg.src = imgSrc;
				//theDiv = parentDiv;
				this.theImg.onload = onImgLoad;
			}
			
			var theMainImg = new wwwImage("squirell/02.jpg", document.getElementById("mainDiv"));
			
			var theBottomImg = new Array(5);
			
			for (var i = 0; i < 5; i++) {
				theBottomImg[i] = new wwwImage("squirell/0" + (1 + i % 5) + ".jpg", document.getElementById("bottomDiv0" + (i + 1)));
				theBottomImg[i].theImg.onclick = function(){
					theMainImg.theImg.src = this.src;
				}
			}
			//-->
		</script>
		
    </body>
</html>
